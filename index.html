<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <title>2019-es7</title>

    <!-- PWA manifest & iOS standalone mode -->
    <link rel="manifest" href="./manifest.json" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Evil Invaders" />
    <link rel="apple-touch-icon" href="./icons/apple-touch-icon.png" />
    <meta name="theme-color" content="#000000" />
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            height: 100dvh;
            background: #000;
            overflow: hidden;
            overscroll-behavior: none;
            touch-action: none;
            -webkit-overflow-scrolling: auto;
            -ms-touch-action: none;
        }

        #canvas {
            width: 100%;
            height: 100%;
            height: 100dvh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #canvas canvas {
            image-rendering: pixelated;
            image-rendering: crisp-edges;
            touch-action: none;
        }

        /* Force portrait layout even when the OS ignores orientation lock */
        @media screen and (orientation: landscape) {
            html {
                transform: rotate(-90deg);
                transform-origin: left top;
                width: 100vh;
                height: 100vw;
                overflow: hidden;
                position: absolute;
                top: 100%;
                left: 0;
            }
        }
    </style>

    <script src="./src/lib/pixi.min.js"></script>
    <script src="./src/lib/TweenMax.min.js"></script>
    <script src="./src/lib/pixi-sound.min.js"></script>
    <script>
        window.firebaseConfig = window.firebaseConfig || {
            apiKey: "AIzaSyAHY_agipyNEXvY2J4jDgnlk9kLeM6O37Y",
            authDomain: "evil-invaders.firebaseapp.com",
            databaseURL: "https://evil-invaders-default-rtdb.firebaseio.com",
            projectId: "evil-invaders",
            storageBucket: "evil-invaders.firebasestorage.app",
            messagingSenderId: "149257705855",
            appId: "1:149257705855:web:3f048481dfc66cef61224a",
        };
        window.__FIREBASE_CONFIG__ = window.__FIREBASE_CONFIG__ || window.firebaseConfig;
        window.__FIREBASE_DATABASE_PATH__ = window.__FIREBASE_DATABASE_PATH__ || "leaderboards/globalHighScore";
    </script>
    <script src="https://www.gstatic.com/firebasejs/10.12.5/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.5/firebase-database-compat.js"></script>
</head>
<body>
    <div id="baseUrl" hidden>./</div>
    <div id="canvas"></div>

    <script type="module" src="./src/main.js"></script>
    <div id="downloadBtn" style="position: fixed; bottom: 10px; right: 10px; z-index: 1000; display: none;">
        <a href="https://EasierByCode.com/2019-es7/game.apk" style="color: #888; text-decoration: none; font-family: sans-serif; font-size: 10px; background: rgba(0,0,0,0.3); padding: 2px 5px; border-radius: 3px;">ðŸª¬DOWNLOADðŸª¬</a>
    </div>

    <!-- iOS "Add to Home Screen" prompt (shown via JS for iOS Safari only) -->
    <div id="iosInstallBanner" style="display:none; position:fixed; bottom:0; left:0; right:0;
        z-index:2000; background:rgba(0,0,0,0.85); color:#fff; font-family:sans-serif;
        font-size:12px; padding:10px 12px; text-align:center; border-top:1px solid #333;
        backdrop-filter:blur(8px); -webkit-backdrop-filter:blur(8px);">
        <span style="display:inline-block; max-width:280px; line-height:1.4;">
            For fullscreen: tap
            <span style="font-size:16px; vertical-align:middle;">&#x1F4E4;</span>
            then <strong>&ldquo;Add to Home Screen&rdquo;</strong>
        </span>
        <button id="iosInstallDismiss" style="position:absolute; top:4px; right:8px;
            background:none; border:none; color:#888; font-size:18px; cursor:pointer;
            padding:4px 8px; line-height:1;">&times;</button>
    </div>
</body>
</html>
